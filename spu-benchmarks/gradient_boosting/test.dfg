Input: P
Input: Q
Input: label
Input: count
Input: max_label
Input: max_count
Input: const1
Input: const2

t11 = Mul64(label,label)
t12 = Div64(t11,count)

s11 = Sub64(max_label,label)
t21 = Mul64(s11,s11)
s12 = Sub64(max_count,count)
t22 = Div64(t21,s12)

cur_entr = Add64(t12,t22)
ctrl1 = ICmpG(cur_entr)

cur_thres = Acc64(const1,const2)
done = ICmpEQ(cur_thres,16)

ctrl = Or(LShf64(ctrl1,1),done)

split_thres = Hold(cur_thres,ctrl)
final_entr = Hold(cur_entr,ctrl)

T = Acc64(P,Q)

Output: final_entr
Output: split_thres
Output: T
