Input16: wval [4]
Input16: wind [4]
Input16: aval [4]
Input16: aind [4]

P0 = IndexMatch16(wind0,aind0)
P1 = IndexMatch16(wind1,aind0)
P2 = IndexMatch16(wind2,aind0)
P3 = IndexMatch16(wind3,aind0)

E0 = Mul16(wval0,aval1,control=P0{1:b2,2:b1})
E1 = Mul16(wval0,aval1,control=P1{1:b2,2:b1})
E2 = Mul16(wval0,aval1,control=P2{1:b2,2:b1})
E3 = Mul16(wval0,aval1,control=P3{1:b2,2:b1})

out_val0 = Acc16(E0,P0,control=P0{0:d,1:d,2:d})
out_val1 = Acc16(E1,P1,control=P1{0:d,1:d,2:d})
out_val2 = Acc16(E2,P2,control=P2{0:d,1:d,2:d})
out_val3 = Acc16(E3,P3,control=P3{0:d,1:d,2:d})

Output16: out_val [4]
